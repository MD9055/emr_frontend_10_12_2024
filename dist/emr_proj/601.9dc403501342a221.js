"use strict";(self.webpackChunkemr_proj=self.webpackChunkemr_proj||[]).push([[601],{8601:(S,d,r)=>{r.r(d),r.d(d,{OtherStaffModule:()=>R});var a=r(177),o=r(3802),m=r(1620),t=r(8699),u=r(4796),h=r(680);let g=(()=>{class i{constructor(e,s){this.authService=e,this.commonService=s,this.dailyQuote=null,this.token=this.authService.getToken()}ngOnInit(){this.fetchCurrentUserDetails(this.token),this.dailyQuote=this.getDailyQuote()}fetchCurrentUserDetails(e){if(e){let s=this.commonService.decodeToken(e);s&&this.commonService.get(`common/getById?_id=${s.userId}`).subscribe(n=>{200===n.statusCode&&(this.currentUserInfo=n?.data,console.log(this.currentUserInfo))})}}getDailyQuote(){return this.commonService.getDailyQuote()}greetMsg(){return this.commonService.getGreeting()}static{this.\u0275fac=function(s){return new(s||i)(t.rXU(u.u),t.rXU(h.h))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-dashboard"]],decls:83,vars:4,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"good-morning-blk"],[1,"col-md-6"],[1,"morning-user"],[1,"col-md-6","position-blk"],[1,"morning-img"],["src","assets/img/morning-img-01.png","alt",""],[1,"col-md-6","col-sm-6","col-lg-6","col-xl-3"],[1,"dash-widget"],[1,"dash-boxs","comman-flex-center"],["src","assets/img/icons/calendar.svg","alt",""],[1,"dash-content","dash-count"],[1,"passive-view"],[1,"feather","icon-arrow-up-right","me-1"],["src","assets/img/icons/profile-add.svg","alt",""],["src","assets/img/icons/scissor.svg","alt",""],[1,"negative-view"],[1,"feather","icon-arrow-down-right","me-1"],["src","assets/img/icons/empty-wallet.svg","alt",""]],template:function(s,n){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),t.EFF(8,"Dashboard "),t.k0s()(),t.j41(9,"li",6),t.nrm(10,"i",8),t.k0s(),t.j41(11,"li",9),t.EFF(12,"Super Admin Dashboard"),t.k0s()()()()(),t.j41(13,"div",10)(14,"div",3)(15,"div",11)(16,"div",12)(17,"h2"),t.EFF(18),t.j41(19,"span"),t.EFF(20),t.k0s()(),t.j41(21,"p"),t.EFF(22),t.k0s()()(),t.j41(23,"div",13)(24,"div",14),t.nrm(25,"img",15),t.k0s()()()(),t.j41(26,"div",3)(27,"div",16)(28,"div",17)(29,"div",18),t.nrm(30,"img",19),t.k0s(),t.j41(31,"div",20)(32,"h4"),t.EFF(33,"Appointments"),t.k0s(),t.j41(34,"h2"),t.EFF(35,"250"),t.k0s(),t.j41(36,"p")(37,"span",21),t.nrm(38,"i",22),t.EFF(39,"40%"),t.k0s(),t.EFF(40," vs last month"),t.k0s()()()(),t.j41(41,"div",16)(42,"div",17)(43,"div",18),t.nrm(44,"img",23),t.k0s(),t.j41(45,"div",20)(46,"h4"),t.EFF(47,"New Patients"),t.k0s(),t.j41(48,"h2"),t.EFF(49,"140"),t.k0s(),t.j41(50,"p")(51,"span",21),t.nrm(52,"i",22),t.EFF(53,"20%"),t.k0s(),t.EFF(54," vs last month"),t.k0s()()()(),t.j41(55,"div",16)(56,"div",17)(57,"div",18),t.nrm(58,"img",24),t.k0s(),t.j41(59,"div",20)(60,"h4"),t.EFF(61,"Operations"),t.k0s(),t.j41(62,"h2"),t.EFF(63,"56"),t.k0s(),t.j41(64,"p")(65,"span",25),t.nrm(66,"i",26),t.EFF(67,"15%"),t.k0s(),t.EFF(68," vs last month"),t.k0s()()()(),t.j41(69,"div",16)(70,"div",17)(71,"div",18),t.nrm(72,"img",27),t.k0s(),t.j41(73,"div",20)(74,"h4"),t.EFF(75,"Earnings"),t.k0s(),t.j41(76,"h2"),t.EFF(77,"$20,250"),t.k0s(),t.j41(78,"p")(79,"span",21),t.nrm(80,"i",22),t.EFF(81,"30%"),t.k0s(),t.EFF(82," vs last month"),t.k0s()()()()()()()),2&s&&(t.R7$(18),t.SpI("",n.greetMsg()," "),t.R7$(2),t.Lme("",null==n.currentUserInfo?null:n.currentUserInfo.firstName," ",null==n.currentUserInfo?null:n.currentUserInfo.lastName,""),t.R7$(2),t.JRh(n.getDailyQuote()))}})}}return i})();var v=r(5799),p=r(611),F=r(3422);function k(i,c){if(1&i&&(t.j41(0,"tr")(1,"td")(2,"div",35),t.nrm(3,"input",36),t.k0s()(),t.j41(4,"td",47),t.EFF(5),t.k0s(),t.j41(6,"td",47),t.EFF(7),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s(),t.j41(10,"td")(11,"a",31),t.EFF(12),t.k0s()(),t.j41(13,"td"),t.EFF(14),t.k0s(),t.j41(15,"td"),t.EFF(16),t.k0s(),t.j41(17,"td"),t.EFF(18),t.k0s(),t.j41(19,"td"),t.EFF(20),t.k0s(),t.j41(21,"td"),t.EFF(22),t.k0s(),t.j41(23,"td"),t.EFF(24),t.nI1(25,"date"),t.k0s(),t.j41(26,"td",48)(27,"a",49),t.nrm(28,"i",50),t.k0s(),t.j41(29,"a",51),t.nrm(30,"i",52),t.k0s()()()),2&i){const e=c.$implicit,s=t.XpG();t.R7$(5),t.SpI(" ",(null==e?null:e.patientId)||"N/A"," "),t.R7$(2),t.Lme(" ",s.decodeText((null==e?null:e.firstName)||"")," ",s.decodeText((null==e?null:e.lastName)||"")||"N/A"," "),t.R7$(2),t.JRh(s.maskEmail(s.decodeText((null==e?null:e.email)||""))||"N/A"),t.R7$(3),t.JRh(s.maskPhone(s.decodeText((null==e?null:e.phone)||""))||"N/A"),t.R7$(2),t.JRh(s.decodeText((null==e?null:e.address_street1)||"")||"N/A"),t.R7$(2),t.JRh(s.decodeText((null==e?null:e.address_street2)||"")||"N/A"),t.R7$(2),t.JRh((null==e||null==e.city?null:e.city.name)||"N/A"),t.R7$(2),t.JRh((null==e||null==e.state?null:e.state.name)||"N/A"),t.R7$(2),t.JRh((null==e||null==e.country?null:e.country.name)||"N/A"),t.R7$(2),t.JRh(null!=e&&e.dob?t.i5U(25,11,null==e?null:e.dob,"MM-dd-yyyy"):"N/A")}}function f(i,c){if(1&i){const e=t.RV6();t.j41(0,"li",44)(1,"a",45),t.bIt("click",function(){const l=t.eBV(e).index,C=t.XpG();return t.Njj(C.goToPage(l+1))}),t.EFF(2),t.k0s()()}if(2&i){const e=c.index,s=t.XpG();t.AVh("active",s.currentPage===e+1),t.R7$(2),t.JRh(e+1)}}const j=function(){return[]},b=[{path:"",component:v.C,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:g,canActivate:[m.q],data:{roles:[7]}},{path:"patient",component:(()=>{class i{constructor(e,s,n){this.commonService=e,this.encryptionDecryptionService=s,this.maskingService=n,this.currentPage=1,this.totalPages=1,this.itemsPerPage=10,this.totalDocs=0}ngOnInit(){this.fetchPatients()}fetchPatients(){return this.commonService.get("staff/patientList").subscribe(e=>{if(200!==e.statusCode)throw console.error("Error fetching patients:",e.message),new Error(e.message||"Failed to fetch patients");this.patients=e.data.docs,this.totalPages=e.data.totalPages,this.totalDocs=e.data.totalDocs},e=>{throw console.error("API error:",e),new Error("Internal Server Error: Unable to fetch patients")})}decodeText(e){return""==e?e:this.encryptionDecryptionService.decrypt(e)}maskEmail(e){return this.maskingService.maskEmail(e)}maskPhone(e){return this.maskingService.maskPhone(e)}goToPage(e){e>=1&&e<=this.totalPages&&(this.currentPage=e,this.fetchPatients())}getCurrentMin(){return(this.currentPage-1)*this.itemsPerPage+1}getCurrentMax(){return Math.min(this.currentPage*this.itemsPerPage,this.totalDocs)}static{this.\u0275fac=function(s){return new(s||i)(t.rXU(h.h),t.rXU(p.g),t.rXU(F.s))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-patient"]],decls:87,vars:10,consts:[[1,"page-wrapper"],[1,"content"],[1,"page-header"],[1,"row"],[1,"col-sm-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","#"],[1,"feather","icon-chevron-right"],[1,"breadcrumb-item","active"],[1,"card","card-table","show-entire"],[1,"card-body"],[1,"page-table-header","mb-2"],[1,"row","align-items-center"],[1,"col"],[1,"doctor-table-blk"],[1,"doctor-search-blk"],[1,"top-nav-search","table-search-blk"],["placeholder","Search here","id","searchInput",1,"form-control"],[1,"btn"],["src","assets/img/icons/search-normal.svg","alt",""],[1,"add-group"],["routerLink","/physician/add-patient",1,"btn","btn-primary","add-pluss","ms-2"],["src","assets/img/icons/plus.svg","alt",""],["href","javascript:;",1,"btn","btn-primary","doctor-refresh","ms-2"],["src","assets/img/icons/re-fresh.svg","alt",""],[1,"col-auto","text-end","float-end","ms-auto","download-grp"],["href","javascript:;",1,"me-2"],["src","assets/img/icons/pdf-icon-01.svg","alt",""],["src","assets/img/icons/pdf-icon-02.svg","alt",""],["src","assets/img/icons/pdf-icon-03.svg","alt",""],["href","javascript:;"],["src","assets/img/icons/pdf-icon-04.svg","alt",""],[1,"table-responsive"],[1,"table","border-0","custom-table","comman-table","datatable","mb-0"],[1,"form-check","check-tables"],["type","checkbox","value","something",1,"form-check-input"],[4,"ngFor","ngForOf"],[1,"table_footer"],[1,"col-sm-12","col-md-5"],[1,"dataTables_info"],[1,"col-sm-12","col-md-7"],[1,"pagination_section"],[1,"pagination"],[1,"page-item"],["href","javascript:void(0);",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"profile-image"],[1,"text-end"],["href","#","title","Edit",1,"icon-action","edit-icon"],[1,"fa-solid","fa-pen-to-square","m-r-5"],["href","#","title","Delete",1,"icon-action","delete-icon"],[1,"fa","fa-trash-alt","m-r-5"]],template:function(s,n){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),t.EFF(8,"Patients"),t.k0s()(),t.j41(9,"li",6),t.nrm(10,"i",8),t.k0s(),t.j41(11,"li",9),t.EFF(12,"Patient List"),t.k0s()()()()(),t.j41(13,"div",3)(14,"div",4)(15,"div",10)(16,"div",11)(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15)(21,"h3"),t.EFF(22,"Patient List"),t.k0s(),t.j41(23,"div",16)(24,"div",17),t.nrm(25,"input",18),t.j41(26,"a",19),t.nrm(27,"img",20),t.k0s()(),t.j41(28,"div",21)(29,"a",22),t.nrm(30,"img",23),t.k0s(),t.j41(31,"a",24),t.nrm(32,"img",25),t.k0s()()()()(),t.j41(33,"div",26)(34,"a",27),t.nrm(35,"img",28),t.k0s(),t.j41(36,"a",27),t.nrm(37,"img",29),t.k0s(),t.j41(38,"a",27),t.nrm(39,"img",30),t.k0s(),t.j41(40,"a",31),t.nrm(41,"img",32),t.k0s()()()(),t.j41(42,"div",33)(43,"table",34)(44,"thead")(45,"tr")(46,"th")(47,"div",35),t.nrm(48,"input",36),t.k0s()(),t.j41(49,"th"),t.EFF(50,"Patient ID"),t.k0s(),t.j41(51,"th"),t.EFF(52,"Name"),t.k0s(),t.j41(53,"th"),t.EFF(54,"Email"),t.k0s(),t.j41(55,"th"),t.EFF(56,"Mobile"),t.k0s(),t.j41(57,"th"),t.EFF(58,"Address 1"),t.k0s(),t.j41(59,"th"),t.EFF(60,"Address 2"),t.k0s(),t.j41(61,"th"),t.EFF(62,"City"),t.k0s(),t.j41(63,"th"),t.EFF(64,"State"),t.k0s(),t.j41(65,"th"),t.EFF(66,"Country"),t.k0s(),t.j41(67,"th"),t.EFF(68,"Joining Date"),t.k0s(),t.j41(69,"th"),t.EFF(70,"Actions"),t.k0s()()(),t.j41(71,"tbody"),t.DNE(72,k,31,14,"tr",37),t.k0s()(),t.j41(73,"div",38)(74,"div",39)(75,"div",40),t.EFF(76),t.k0s()(),t.j41(77,"div",41)(78,"div",42)(79,"ul",43)(80,"li",44)(81,"a",45),t.bIt("click",function(){return n.goToPage(n.currentPage-1)}),t.EFF(82,"Previous"),t.k0s()(),t.DNE(83,f,3,3,"li",46),t.j41(84,"li",44)(85,"a",45),t.bIt("click",function(){return n.goToPage(n.currentPage+1)}),t.EFF(86,"Next"),t.k0s()()()()()()()()()()()()()),2&s&&(t.R7$(72),t.Y8G("ngForOf",n.patients),t.R7$(4),t.E5c(" Showing ",n.getCurrentMin()," to ",n.getCurrentMax()," of ",n.totalDocs," entries "),t.R7$(4),t.AVh("disabled",1===n.currentPage),t.R7$(3),t.Y8G("ngForOf",t.lJ4(9,j).constructor(n.totalPages)),t.R7$(1),t.AVh("disabled",n.currentPage===n.totalPages))},dependencies:[a.Sq,o.Wk,a.vh],styles:[".icon-action[_ngcontent-%COMP%]{text-decoration:none;color:inherit}.icon-action[_ngcontent-%COMP%]:hover{color:red}"]})}}return i})(),canActivate:[m.q],data:{roles:[7]}}]}];let P=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[o.iI.forChild(b),o.iI]})}}return i})();var y=r(8723);let R=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[a.MD,P,y.E]})}}return i})()}}]);